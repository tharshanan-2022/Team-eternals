<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:25,&quot;tests&quot;:47,&quot;passes&quot;:23,&quot;pending&quot;:0,&quot;failures&quot;:24,&quot;start&quot;:&quot;2025-09-08T16:08:02.359Z&quot;,&quot;end&quot;:&quot;2025-09-08T16:08:18.125Z&quot;,&quot;duration&quot;:15766,&quot;testsRegistered&quot;:47,&quot;passPercent&quot;:48.93617021276596,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;c27afe22-8163-4860-a7d5-6383e9f57a59&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;99c715dc-a2f1-4f27-92cf-a108f60accf1&quot;,&quot;title&quot;:&quot;Authentication API&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\auth.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\auth.spec.cjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Authentication API\&quot;&quot;,&quot;fullTitle&quot;:&quot;Authentication API \&quot;before each\&quot; hook in \&quot;Authentication API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:309,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await delay(300);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1bfdfa7d-61fc-44d2-a524-ea62b0ddae86&quot;,&quot;parentUUID&quot;:&quot;99c715dc-a2f1-4f27-92cf-a108f60accf1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;22abb8b5-23e0-4478-b165-c2bf798e4692&quot;,&quot;title&quot;:&quot;POST /auth/login&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\auth.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\auth.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should login user and return token with user info&quot;,&quot;fullTitle&quot;:&quot;Authentication API POST /auth/login should login user and return token with user info&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:521,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await client.post(&#x27;/auth/login&#x27;, {\n  email: USER_CREDENTIALS.email,\n  password: USER_CREDENTIALS.password\n});\nexpect(response.status).to.equal(200);\nexpect(response.data).to.have.property(&#x27;token&#x27;);\nexpect(response.data).to.have.property(&#x27;user&#x27;);\nexpect(response.data.user).to.have.property(&#x27;email&#x27;, USER_CREDENTIALS.email);\nexpect(response.data.token).to.be.a(&#x27;string&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38ebd1cf-87ed-40f4-b397-759e38127d34&quot;,&quot;parentUUID&quot;:&quot;22abb8b5-23e0-4478-b165-c2bf798e4692&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should login admin and return token&quot;,&quot;fullTitle&quot;:&quot;Authentication API POST /auth/login should login admin and return token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:388,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await client.post(&#x27;/auth/login&#x27;, {\n  email: ADMIN_CREDENTIALS.email,\n  password: ADMIN_CREDENTIALS.password\n});\nexpect(response.status).to.equal(200);\nexpect(response.data).to.have.property(&#x27;token&#x27;);\nexpect(response.data).to.have.property(&#x27;user&#x27;);\nexpect(response.data.user).to.have.property(&#x27;email&#x27;, ADMIN_CREDENTIALS.email);\nexpect(response.data.token).to.be.a(&#x27;string&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6c22bf4-0a8f-460d-8006-25c085337bc3&quot;,&quot;parentUUID&quot;:&quot;22abb8b5-23e0-4478-b165-c2bf798e4692&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 401 for invalid credentials&quot;,&quot;fullTitle&quot;:&quot;Authentication API POST /auth/login should return 401 for invalid credentials&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await client.post(&#x27;/auth/login&#x27;, {\n  email: &#x27;invalid@example.com&#x27;,\n  password: &#x27;wrongpassword&#x27;\n});\nexpect(response.status).to.equal(401);\nexpect(response.data).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62230d90-2b13-4514-86e0-7986121495c2&quot;,&quot;parentUUID&quot;:&quot;22abb8b5-23e0-4478-b165-c2bf798e4692&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;38ebd1cf-87ed-40f4-b397-759e38127d34&quot;,&quot;b6c22bf4-0a8f-460d-8006-25c085337bc3&quot;,&quot;62230d90-2b13-4514-86e0-7986121495c2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:919,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a1b136a4-95db-4d1e-8988-03367efe58c8&quot;,&quot;title&quot;:&quot;GET /auth/profile&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\auth.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\auth.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require authentication&quot;,&quot;fullTitle&quot;:&quot;Authentication API GET /auth/profile should require authentication&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;client.clearAuth();\nconst response = await client.get(&#x27;/auth/profile&#x27;);\n\nexpect(response.status).to.equal(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b52e8cb5-4eb7-449c-a710-03dde17115ba&quot;,&quot;parentUUID&quot;:&quot;a1b136a4-95db-4d1e-8988-03367efe58c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return user profile when authenticated&quot;,&quot;fullTitle&quot;:&quot;Authentication API GET /auth/profile should return user profile when authenticated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:368,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// First login\nconst loginResponse = await client.post(&#x27;/auth/login&#x27;, {\n  email: USER_CREDENTIALS.email,\n  password: USER_CREDENTIALS.password\n});\n\nclient.setBearerToken(loginResponse.data.token);\n\n// Then get profile\nconst profileResponse = await client.get(&#x27;/auth/profile&#x27;);\n\nexpect(profileResponse.status).to.equal(200);\nexpect(profileResponse.data).to.have.property(&#x27;user&#x27;);\nexpect(profileResponse.data.user).to.have.property(&#x27;id&#x27;);\nexpect(profileResponse.data.user).to.have.property(&#x27;email&#x27;, USER_CREDENTIALS.email);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df1415ff-e207-4704-95d2-e4c9f3273bbc&quot;,&quot;parentUUID&quot;:&quot;a1b136a4-95db-4d1e-8988-03367efe58c8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b52e8cb5-4eb7-449c-a710-03dde17115ba&quot;,&quot;df1415ff-e207-4704-95d2-e4c9f3273bbc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:371,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4c3aafed-b060-4df0-96e7-081954f4dde1&quot;,&quot;title&quot;:&quot;Bookings API&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\bookings.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\bookings.spec.cjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Bookings API\&quot;&quot;,&quot;fullTitle&quot;:&quot;Bookings API \&quot;before each\&quot; hook in \&quot;Bookings API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:311,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await delay(300);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0f6c282-9d8f-4e5e-b065-da4dabde8438&quot;,&quot;parentUUID&quot;:&quot;4c3aafed-b060-4df0-96e7-081954f4dde1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7ce3b840-b4e7-47af-96e1-c1121ea35b7a&quot;,&quot;title&quot;:&quot;POST /bookings&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\bookings.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\bookings.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should allow guest to create booking&quot;,&quot;fullTitle&quot;:&quot;Bookings API POST /bookings should allow guest to create booking&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:33,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;client.clearAuth(); // Ensure no auth\n\nconst tomorrow = new Date();\ntomorrow.setDate(tomorrow.getDate() + 1);\nconst dayAfter = new Date();\ndayAfter.setDate(dayAfter.getDate() + 2);\n\nconst bookingData = {\n  vehicleId: &#x27;bike-1&#x27;,\n  rentalType: &#x27;location&#x27;,\n  fromDate: tomorrow.toISOString(),\n  toDate: dayAfter.toISOString(),\n  pickupLocation: &#x27;Test Location&#x27;,\n  dropoffLocation: &#x27;Test Destination&#x27;,\n  totalFare: 1500.00,\n  paymentMethod: &#x27;cash&#x27;,\n  customerName: &#x27;Test Guest&#x27;,\n  customerPhone: &#x27;0771234567&#x27;,\n  customerEmail: &#x27;guest@example.com&#x27;\n};\nconst response = await client.post(&#x27;/bookings&#x27;, bookingData);\n\nexpect(response.status).to.equal(201);\nexpect(response.data).to.have.property(&#x27;booking&#x27;);\nexpect(response.data.booking).to.have.property(&#x27;id&#x27;);\n\n// Validate against schema\nconst isValid = validateSchema(bookingCreatedSchema, response.data);\nexpect(isValid.valid).to.be.true;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected 409 to equal 201&quot;,&quot;estack&quot;:&quot;AssertionError: expected 409 to equal 201\n    at Context.&lt;anonymous&gt; (tests\\api\\bookings.spec.cjs:48:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;,&quot;diff&quot;:&quot;- 409\n+ 201\n&quot;},&quot;uuid&quot;:&quot;29f1d41d-f332-4154-bada-a927543e0bd4&quot;,&quot;parentUUID&quot;:&quot;7ce3b840-b4e7-47af-96e1-c1121ea35b7a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject booking with invalid payload&quot;,&quot;fullTitle&quot;:&quot;Bookings API POST /bookings should reject booking with invalid payload&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidBookingData = {\n  vehicle_id: &#x27;invalid&#x27;, // Should be number\n  pickup_location: &#x27;&#x27;, // Should not be empty\n  // Missing required fields\n};\nconst response = await client.post(&#x27;/bookings&#x27;, invalidBookingData);\n\nexpect(response.status).to.equal(400);\nexpect(response.data).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;44c8f92f-f7fb-41c9-a5d5-1b9ff6cbcab5&quot;,&quot;parentUUID&quot;:&quot;7ce3b840-b4e7-47af-96e1-c1121ea35b7a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject booking with past dates&quot;,&quot;fullTitle&quot;:&quot;Bookings API POST /bookings should reject booking with past dates&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const pastDate = new Date();\npastDate.setDate(pastDate.getDate() - 1);\n\nconst bookingData = {\n  vehicle_id: 1,\n  pickup_location: &#x27;Test Pickup Location&#x27;,\n  dropoff_location: &#x27;Test Dropoff Location&#x27;,\n  pickup_time: pastDate.toISOString(),\n  dropoff_time: getFutureDate(1),\n  guest_name: &#x27;John Doe&#x27;,\n  guest_phone: &#x27;+1234567890&#x27;,\n  guest_email: &#x27;john.doe@example.com&#x27;\n};\nconst response = await client.post(&#x27;/bookings&#x27;, bookingData);\n\nexpect(response.status).to.equal(400);\nexpect(response.data).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;76342438-6f59-4900-bdd9-6248abae78ea&quot;,&quot;parentUUID&quot;:&quot;7ce3b840-b4e7-47af-96e1-c1121ea35b7a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;44c8f92f-f7fb-41c9-a5d5-1b9ff6cbcab5&quot;,&quot;76342438-6f59-4900-bdd9-6248abae78ea&quot;],&quot;failures&quot;:[&quot;29f1d41d-f332-4154-bada-a927543e0bd4&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:59,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6a901de5-7fa1-49f3-9f03-fd86e7bc8ab7&quot;,&quot;title&quot;:&quot;GET /bookings&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\bookings.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\bookings.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require authentication&quot;,&quot;fullTitle&quot;:&quot;Bookings API GET /bookings should require authentication&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;client.clearAuth();\nconst response = await client.get(&#x27;/bookings&#x27;);\n\nexpect(response.status).to.equal(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf014d6c-cf74-42da-8420-5b292035e42b&quot;,&quot;parentUUID&quot;:&quot;6a901de5-7fa1-49f3-9f03-fd86e7bc8ab7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should list user bookings when authenticated&quot;,&quot;fullTitle&quot;:&quot;Bookings API GET /bookings should list user bookings when authenticated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:372,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginAsUser();\n\nconst response = await client.get(&#x27;/bookings&#x27;);\n\nexpect(response.status).to.equal(200);\nexpect(response.data).to.have.property(&#x27;bookings&#x27;);\nexpect(response.data.bookings).to.be.an(&#x27;array&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected 500 to equal 200&quot;,&quot;estack&quot;:&quot;AssertionError: expected 500 to equal 200\n    at Context.&lt;anonymous&gt; (tests\\api\\bookings.spec.cjs:105:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;,&quot;diff&quot;:&quot;- 500\n+ 200\n&quot;},&quot;uuid&quot;:&quot;996e2351-0935-4bc4-acd1-ee94fa7ef27a&quot;,&quot;parentUUID&quot;:&quot;6a901de5-7fa1-49f3-9f03-fd86e7bc8ab7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cf014d6c-cf74-42da-8420-5b292035e42b&quot;],&quot;failures&quot;:[&quot;996e2351-0935-4bc4-acd1-ee94fa7ef27a&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:376,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0eebc5a4-f8ad-4cc3-9557-b45620b4439d&quot;,&quot;title&quot;:&quot;GET /bookings/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\bookings.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\bookings.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should require authentication&quot;,&quot;fullTitle&quot;:&quot;Bookings API GET /bookings/:id should require authentication&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;client.clearAuth();\nconst response = await client.get(&#x27;/bookings/1&#x27;);\n\nexpect(response.status).to.equal(401);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe4a0ce8-4806-469b-aa00-8ab42f4e4b3c&quot;,&quot;parentUUID&quot;:&quot;0eebc5a4-f8ad-4cc3-9557-b45620b4439d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 404 for non-existent booking&quot;,&quot;fullTitle&quot;:&quot;Bookings API GET /bookings/:id should return 404 for non-existent booking&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:421,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await loginAsUser();\n\nconst response = await client.get(&#x27;/bookings/999999&#x27;);\n\nexpect(response.status).to.equal(404);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c162d57c-43e2-4ce6-9478-b90d70181fa0&quot;,&quot;parentUUID&quot;:&quot;0eebc5a4-f8ad-4cc3-9557-b45620b4439d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fe4a0ce8-4806-469b-aa00-8ab42f4e4b3c&quot;,&quot;c162d57c-43e2-4ce6-9478-b90d70181fa0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:424,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9e328521-303c-4931-ba9c-f011668223a4&quot;,&quot;title&quot;:&quot;Parameterized Tests - Vehicles API&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\params.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\params.spec.cjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Parameterized Tests - Vehicles API\&quot;&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API \&quot;before each\&quot; hook in \&quot;Parameterized Tests - Vehicles API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:314,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await delay(300);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c22d6b32-ed16-4411-ad3c-885d7edb7321&quot;,&quot;parentUUID&quot;:&quot;9e328521-303c-4931-ba9c-f011668223a4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4fe212ec-446e-42cc-a413-eac62dc96b2c&quot;,&quot;title&quot;:&quot;Vehicle Type Filtering&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\params.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\params.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should filter vehicles by type: car&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Vehicle Type Filtering should filter vehicles by type: car&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?type=${type}`);\n      expect(response.status).to.equal(200);\n      expect(response.data).to.have.property(&#x27;vehicles&#x27;);\n      expect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n\n// All returned vehicles should match the requested type\nresponse.data.vehicles.forEach(vehicle =&gt; {\n  expect(vehicle.type).to.equal(type);\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:17:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;953cdcb4-ec41-4ade-86be-2aa1c3665afd&quot;,&quot;parentUUID&quot;:&quot;4fe212ec-446e-42cc-a413-eac62dc96b2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should filter vehicles by type: bike&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Vehicle Type Filtering should filter vehicles by type: bike&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?type=${type}`);\n      expect(response.status).to.equal(200);\n      expect(response.data).to.have.property(&#x27;vehicles&#x27;);\n      expect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n\n// All returned vehicles should match the requested type\nresponse.data.vehicles.forEach(vehicle =&gt; {\n  expect(vehicle.type).to.equal(type);\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:17:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;18a54226-e80e-41ef-b05f-43f6119f8831&quot;,&quot;parentUUID&quot;:&quot;4fe212ec-446e-42cc-a413-eac62dc96b2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should filter vehicles by type: van&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Vehicle Type Filtering should filter vehicles by type: van&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?type=${type}`);\n      expect(response.status).to.equal(200);\n      expect(response.data).to.have.property(&#x27;vehicles&#x27;);\n      expect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n\n// All returned vehicles should match the requested type\nresponse.data.vehicles.forEach(vehicle =&gt; {\n  expect(vehicle.type).to.equal(type);\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:17:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;a16fd9ed-e8db-44a7-808f-60c53d50d931&quot;,&quot;parentUUID&quot;:&quot;4fe212ec-446e-42cc-a413-eac62dc96b2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should filter vehicles by type: lorry&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Vehicle Type Filtering should filter vehicles by type: lorry&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?type=${type}`);\n      expect(response.status).to.equal(200);\n      expect(response.data).to.have.property(&#x27;vehicles&#x27;);\n      expect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n\n// All returned vehicles should match the requested type\nresponse.data.vehicles.forEach(vehicle =&gt; {\n  expect(vehicle.type).to.equal(type);\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:17:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;bf2bd3fd-4de9-487f-b1e9-b14fa36e22c3&quot;,&quot;parentUUID&quot;:&quot;4fe212ec-446e-42cc-a413-eac62dc96b2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should filter vehicles by type: threewheel&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Vehicle Type Filtering should filter vehicles by type: threewheel&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?type=${type}`);\n      expect(response.status).to.equal(200);\n      expect(response.data).to.have.property(&#x27;vehicles&#x27;);\n      expect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n\n// All returned vehicles should match the requested type\nresponse.data.vehicles.forEach(vehicle =&gt; {\n  expect(vehicle.type).to.equal(type);\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:17:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;4d6fe90b-2d5d-431a-a185-89d2ad46888d&quot;,&quot;parentUUID&quot;:&quot;4fe212ec-446e-42cc-a413-eac62dc96b2c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;953cdcb4-ec41-4ade-86be-2aa1c3665afd&quot;,&quot;18a54226-e80e-41ef-b05f-43f6119f8831&quot;,&quot;a16fd9ed-e8db-44a7-808f-60c53d50d931&quot;,&quot;bf2bd3fd-4de9-487f-b1e9-b14fa36e22c3&quot;,&quot;4d6fe90b-2d5d-431a-a185-89d2ad46888d&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d12d26ed-8c19-4a07-a23d-bac6997a82d3&quot;,&quot;title&quot;:&quot;Availability Filtering&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\params.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\params.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should filter vehicles by availability: true&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Availability Filtering should filter vehicles by availability: true&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?available=${available}`);\n      expect(response.status).to.equal(200);\n      expect(response.data).to.have.property(&#x27;vehicles&#x27;);\n      expect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n\n// Check if there are matching vehicles, if not, just verify the structure\nif (response.data.vehicles.length &gt; 0) {\n  response.data.vehicles.forEach(vehicle =&gt; {\n    expect(vehicle.available).to.equal(available);\n  });\n}&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:33:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;f59dc4a1-de93-4594-ad7d-80643f8ba481&quot;,&quot;parentUUID&quot;:&quot;d12d26ed-8c19-4a07-a23d-bac6997a82d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should filter vehicles by availability: false&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Availability Filtering should filter vehicles by availability: false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?available=${available}`);\n      expect(response.status).to.equal(200);\n      expect(response.data).to.have.property(&#x27;vehicles&#x27;);\n      expect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n\n// Check if there are matching vehicles, if not, just verify the structure\nif (response.data.vehicles.length &gt; 0) {\n  response.data.vehicles.forEach(vehicle =&gt; {\n    expect(vehicle.available).to.equal(available);\n  });\n}&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:33:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;d33745c7-aff7-4aa9-af38-3f552478db76&quot;,&quot;parentUUID&quot;:&quot;d12d26ed-8c19-4a07-a23d-bac6997a82d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;f59dc4a1-de93-4594-ad7d-80643f8ba481&quot;,&quot;d33745c7-aff7-4aa9-af38-3f552478db76&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6341a81c-6d32-4c76-b524-d3227d3ca814&quot;,&quot;title&quot;:&quot;Combined Parameters&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\params.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\params.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should filter vehicles by type: car and availability: true&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Combined Parameters should filter vehicles by type: car and availability: true&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?type=${type}&amp;available=${available}`);\n      expect(response.status).to.equal(200);\n      expect(response.data).to.have.property(&#x27;vehicles&#x27;);\n      expect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n\n// Check if there are matching vehicles, if not, just verify the structure\nif (response.data.vehicles.length &gt; 0) {\n  response.data.vehicles.forEach(vehicle =&gt; {\n    expect(vehicle.type).to.equal(type);\n    expect(vehicle.available).to.equal(available);\n  });\n}&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:59:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;e6b63005-d0a8-48b6-a85e-7eef54cc57eb&quot;,&quot;parentUUID&quot;:&quot;6341a81c-6d32-4c76-b524-d3227d3ca814&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should filter vehicles by type: bike and availability: false&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Combined Parameters should filter vehicles by type: bike and availability: false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?type=${type}&amp;available=${available}`);\n      expect(response.status).to.equal(200);\n      expect(response.data).to.have.property(&#x27;vehicles&#x27;);\n      expect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n\n// Check if there are matching vehicles, if not, just verify the structure\nif (response.data.vehicles.length &gt; 0) {\n  response.data.vehicles.forEach(vehicle =&gt; {\n    expect(vehicle.type).to.equal(type);\n    expect(vehicle.available).to.equal(available);\n  });\n}&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:59:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;b0dc6a07-0d26-428f-99fe-65b76f400e43&quot;,&quot;parentUUID&quot;:&quot;6341a81c-6d32-4c76-b524-d3227d3ca814&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should filter vehicles by type: van and availability: true&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Combined Parameters should filter vehicles by type: van and availability: true&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?type=${type}&amp;available=${available}`);\n      expect(response.status).to.equal(200);\n      expect(response.data).to.have.property(&#x27;vehicles&#x27;);\n      expect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n\n// Check if there are matching vehicles, if not, just verify the structure\nif (response.data.vehicles.length &gt; 0) {\n  response.data.vehicles.forEach(vehicle =&gt; {\n    expect(vehicle.type).to.equal(type);\n    expect(vehicle.available).to.equal(available);\n  });\n}&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:59:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;58318d15-9ddd-4e41-9f8d-188996f2b766&quot;,&quot;parentUUID&quot;:&quot;6341a81c-6d32-4c76-b524-d3227d3ca814&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should filter vehicles by type: lorry and availability: false&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Combined Parameters should filter vehicles by type: lorry and availability: false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?type=${type}&amp;available=${available}`);\n      expect(response.status).to.equal(200);\n      expect(response.data).to.have.property(&#x27;vehicles&#x27;);\n      expect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n\n// Check if there are matching vehicles, if not, just verify the structure\nif (response.data.vehicles.length &gt; 0) {\n  response.data.vehicles.forEach(vehicle =&gt; {\n    expect(vehicle.type).to.equal(type);\n    expect(vehicle.available).to.equal(available);\n  });\n}&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:59:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;d3e52f57-2f93-465d-b392-b0ac9519bcde&quot;,&quot;parentUUID&quot;:&quot;6341a81c-6d32-4c76-b524-d3227d3ca814&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;e6b63005-d0a8-48b6-a85e-7eef54cc57eb&quot;,&quot;b0dc6a07-0d26-428f-99fe-65b76f400e43&quot;,&quot;58318d15-9ddd-4e41-9f8d-188996f2b766&quot;,&quot;d3e52f57-2f93-465d-b392-b0ac9519bcde&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ecbdcb58-2e85-4cd1-8fba-da1aca3f90c9&quot;,&quot;title&quot;:&quot;Invalid Parameters&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\params.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\params.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return 400 for invalid vehicle type: &#x27;invalid_type&#x27;&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Invalid Parameters should return 400 for invalid vehicle type: &#x27;invalid_type&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?type=${invalidType}`);\n\nexpect(response.status).to.equal(400);\nexpect(response.data).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:80:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;ce1571d5-cde9-4f48-aa98-e54655fa9e30&quot;,&quot;parentUUID&quot;:&quot;ecbdcb58-2e85-4cd1-8fba-da1aca3f90c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 for invalid vehicle type: &#x27;airplane&#x27;&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Invalid Parameters should return 400 for invalid vehicle type: &#x27;airplane&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?type=${invalidType}`);\n\nexpect(response.status).to.equal(400);\nexpect(response.data).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:80:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;6e24ed0b-8f34-4fd5-a3b0-2e6b16309f53&quot;,&quot;parentUUID&quot;:&quot;ecbdcb58-2e85-4cd1-8fba-da1aca3f90c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 for invalid vehicle type: &#x27;boat&#x27;&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Invalid Parameters should return 400 for invalid vehicle type: &#x27;boat&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?type=${invalidType}`);\n\nexpect(response.status).to.equal(400);\nexpect(response.data).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:80:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;d0cea9fd-d009-4f2e-b3b8-c8b688be8b0a&quot;,&quot;parentUUID&quot;:&quot;ecbdcb58-2e85-4cd1-8fba-da1aca3f90c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 for invalid vehicle type: &#x27;&#x27;&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Invalid Parameters should return 400 for invalid vehicle type: &#x27;&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(`/vehicles?type=${invalidType}`);\n\nexpect(response.status).to.equal(400);\nexpect(response.data).to.have.property(&#x27;error&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:80:43)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;78039d55-c023-48bf-9e2d-178f9e05bd8f&quot;,&quot;parentUUID&quot;:&quot;ecbdcb58-2e85-4cd1-8fba-da1aca3f90c9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;ce1571d5-cde9-4f48-aa98-e54655fa9e30&quot;,&quot;6e24ed0b-8f34-4fd5-a3b0-2e6b16309f53&quot;,&quot;d0cea9fd-d009-4f2e-b3b8-c8b688be8b0a&quot;,&quot;78039d55-c023-48bf-9e2d-178f9e05bd8f&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1b6863ec-c9df-4c19-a98f-de0bf44c26fc&quot;,&quot;title&quot;:&quot;Edge Cases&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\params.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\params.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should handle empty results gracefully&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Edge Cases should handle empty results gracefully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Try to find a combination that likely returns no results\nconst response = await httpClient.get(&#x27;/vehicles?type=car&amp;available=false&#x27;);\n\nexpect(response.status).to.equal(200);\nexpect(response.data).to.have.property(&#x27;vehicles&#x27;);\nexpect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n// Results might be empty, which is valid&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:91:41)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;108ef045-f88e-4387-8d8d-0f80252196db&quot;,&quot;parentUUID&quot;:&quot;1b6863ec-c9df-4c19-a98f-de0bf44c26fc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle multiple same parameters&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Edge Cases should handle multiple same parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(&#x27;/vehicles?type=car&amp;type=bike&#x27;);\n\n// Should either use the last parameter or return an error\nexpect([200, 400]).to.include(response.status);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:100:41)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;ce1b2efa-de6c-410a-8969-b38d0af15352&quot;,&quot;parentUUID&quot;:&quot;1b6863ec-c9df-4c19-a98f-de0bf44c26fc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should ignore unknown parameters&quot;,&quot;fullTitle&quot;:&quot;Parameterized Tests - Vehicles API Edge Cases should ignore unknown parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await httpClient.get(&#x27;/vehicles?type=car&amp;unknown_param=value&#x27;);\n\nexpect(response.status).to.equal(200);\nexpect(response.data).to.have.property(&#x27;vehicles&#x27;);\nexpect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n\n// Should filter by type and ignore unknown parameter\nresponse.data.vehicles.forEach(vehicle =&gt; {\n  expect(vehicle.type).to.equal(&#x27;car&#x27;);\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)&quot;,&quot;estack&quot;:&quot;TypeError: Cannot read properties of undefined (reading &#x27;get&#x27;)\n    at Context.&lt;anonymous&gt; (tests\\api\\params.spec.cjs:107:41)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;5134dfc5-e499-4507-b05f-cac1a41948e2&quot;,&quot;parentUUID&quot;:&quot;1b6863ec-c9df-4c19-a98f-de0bf44c26fc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[&quot;108ef045-f88e-4387-8d8d-0f80252196db&quot;,&quot;ce1b2efa-de6c-410a-8969-b38d0af15352&quot;,&quot;5134dfc5-e499-4507-b05f-cac1a41948e2&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;613d0983-448c-4211-bf42-aed268f612aa&quot;,&quot;title&quot;:&quot;Error Handling and Logging Examples&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\reporting-and-logging.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\reporting-and-logging.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;72d355be-84c0-4374-bf9d-d69f02a2b705&quot;,&quot;title&quot;:&quot;404 Error Handling&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\reporting-and-logging.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\reporting-and-logging.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should handle 404 errors with proper logging and context&quot;,&quot;fullTitle&quot;:&quot;Error Handling and Logging Examples 404 Error Handling should handle 404 errors with proper logging and context&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const startTime = Date.now();\nconst nonExistentEndpoint = &#x27;/api/non-existent-endpoint&#x27;;\n\ntry {\n  const response = await client.get(nonExistentEndpoint);\n  const endTime = Date.now();\n  const responseTime = endTime - startTime;\n  \n  // Log request details for debugging\n  console.log(&#x27;Request Details:&#x27;, {\n    endpoint: nonExistentEndpoint,\n    method: &#x27;GET&#x27;,\n    responseTime: `${responseTime}ms`,\n    status: response.status,\n    timestamp: new Date().toISOString()\n  });\n  \n  // Verify 404 status\n  expect(response.status).to.equal(404);\n  \n  // Verify error response structure\n  expect(response.data).to.have.property(&#x27;error&#x27;);\n  expect(response.data.error).to.be.a(&#x27;string&#x27;);\n  \n  // Log error details\n  console.log(&#x27;Error Response:&#x27;, {\n    error: response.data.error,\n    status: response.status,\n    headers: response.headers\n  });\n  \n  // Verify response time is reasonable (less than 5 seconds)\n  expect(responseTime).to.be.lessThan(5000);\n  \n} catch (error) {\n  const endTime = Date.now();\n  const responseTime = endTime - startTime;\n  \n  // Log failure context for debugging\n  console.error(&#x27;Test Failure Context:&#x27;, {\n    endpoint: nonExistentEndpoint,\n    error: error.message,\n    responseTime: `${responseTime}ms`,\n    timestamp: new Date().toISOString(),\n    stack: error.stack\n  });\n  \n  // Re-throw to fail the test\n  throw error;\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c56c5b25-2c8c-4fdb-a3f3-c5d4978117a6&quot;,&quot;parentUUID&quot;:&quot;72d355be-84c0-4374-bf9d-d69f02a2b705&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c56c5b25-2c8c-4fdb-a3f3-c5d4978117a6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2ddc9cf9-1f96-4970-b8c7-ecfc2221e202&quot;,&quot;title&quot;:&quot;Request Timeout Handling&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\reporting-and-logging.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\reporting-and-logging.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should handle slow responses appropriately&quot;,&quot;fullTitle&quot;:&quot;Error Handling and Logging Examples Request Timeout Handling should handle slow responses appropriately&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const startTime = Date.now();\n\ntry {\n  // Test with a potentially slow endpoint\n  const response = await client.get(&#x27;/vehicles&#x27;, {\n    timeout: 8000 // 8 second timeout\n  });\n  \n  const endTime = Date.now();\n  const responseTime = endTime - startTime;\n  \n  console.log(&#x27;Performance Metrics:&#x27;, {\n    endpoint: &#x27;/vehicles&#x27;,\n    responseTime: `${responseTime}ms`,\n    status: response.status,\n    dataSize: JSON.stringify(response.data).length,\n    timestamp: new Date().toISOString()\n  });\n  \n  expect(response.status).to.equal(200);\n  \n  // Log warning if response is slow\n  if (responseTime &gt; 3000) {\n    console.warn(&#x27;SLOW RESPONSE WARNING:&#x27;, {\n      endpoint: &#x27;/vehicles&#x27;,\n      responseTime: `${responseTime}ms`,\n      threshold: &#x27;3000ms&#x27;,\n      recommendation: &#x27;Consider optimizing this endpoint&#x27;\n    });\n  }\n  \n} catch (error) {\n  const endTime = Date.now();\n  const responseTime = endTime - startTime;\n  \n  console.error(&#x27;Request Failed:&#x27;, {\n    endpoint: &#x27;/vehicles&#x27;,\n    error: error.message,\n    responseTime: `${responseTime}ms`,\n    errorCode: error.code,\n    timestamp: new Date().toISOString()\n  });\n  \n  // If it&#x27;s a timeout, that&#x27;s expected behavior\n  if (error.code === &#x27;ECONNABORTED&#x27;) {\n    console.log(&#x27;Request timed out as expected&#x27;);\n  } else {\n    throw error;\n  }\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cbd5ca5-b257-4865-b8bd-ecfa58057d32&quot;,&quot;parentUUID&quot;:&quot;2ddc9cf9-1f96-4970-b8c7-ecfc2221e202&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9cbd5ca5-b257-4865-b8bd-ecfa58057d32&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;32928e3f-e6ea-414a-bfd5-adb9d0e1ddf7&quot;,&quot;title&quot;:&quot;Error Response Validation&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\reporting-and-logging.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\reporting-and-logging.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should validate error response format for invalid requests&quot;,&quot;fullTitle&quot;:&quot;Error Handling and Logging Examples Error Response Validation should validate error response format for invalid requests&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:18,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidRequests = [\n  { endpoint: &#x27;/vehicles?type=invalid_type&#x27;, expectedStatus: 400 },\n  { endpoint: &#x27;/vehicles/999999&#x27;, expectedStatus: 404 },\n  { endpoint: &#x27;/bookings&#x27;, expectedStatus: 401 } // Without auth\n];\n\nfor (const { endpoint, expectedStatus } of invalidRequests) {\n  const startTime = Date.now();\n  \n  try {\n    const response = await client.get(endpoint);\n    const endTime = Date.now();\n    const responseTime = endTime - startTime;\n    \n    console.log(`Testing ${endpoint}:`, {\n      expectedStatus,\n      actualStatus: response.status,\n      responseTime: `${responseTime}ms`,\n      hasError: !!response.data.error\n    });\n    \n    expect(response.status).to.equal(expectedStatus);\n    \n    // Verify error response structure\n    if (response.status &gt;= 400) {\n      expect(response.data).to.have.property(&#x27;error&#x27;);\n      expect(response.data.error).to.be.a(&#x27;string&#x27;);\n      expect(response.data.error.length).to.be.greaterThan(0);\n    }\n    \n  } catch (error) {\n    console.error(`Error testing ${endpoint}:`, {\n      error: error.message,\n      expectedStatus,\n      timestamp: new Date().toISOString()\n    });\n    throw error;\n  }\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;efa3d8b9-62d9-4a14-a8fa-1c71dd21d870&quot;,&quot;parentUUID&quot;:&quot;32928e3f-e6ea-414a-bfd5-adb9d0e1ddf7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;efa3d8b9-62d9-4a14-a8fa-1c71dd21d870&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e032f922-e882-4293-b5f7-604f9d8d5470&quot;,&quot;title&quot;:&quot;API Health Monitoring&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\reporting-and-logging.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\reporting-and-logging.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should monitor API health and log metrics&quot;,&quot;fullTitle&quot;:&quot;Error Handling and Logging Examples API Health Monitoring should monitor API health and log metrics&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const healthChecks = [\n  &#x27;/vehicles&#x27;,\n  &#x27;/auth/login&#x27;,\n  &#x27;/health&#x27;\n];\n\nconst results = [];\n\nfor (const endpoint of healthChecks) {\n  const startTime = Date.now();\n  \n  try {\n    const response = await client.get(endpoint);\n    const endTime = Date.now();\n    const responseTime = endTime - startTime;\n    \n    const result = {\n      endpoint,\n      status: response.status,\n      responseTime,\n      healthy: response.status &lt; 500,\n      timestamp: new Date().toISOString()\n    };\n    \n    results.push(result);\n    \n    console.log(&#x27;Health Check:&#x27;, result);\n    \n  } catch (error) {\n    const endTime = Date.now();\n    const responseTime = endTime - startTime;\n    \n    const result = {\n      endpoint,\n      status: &#x27;ERROR&#x27;,\n      responseTime,\n      healthy: false,\n      error: error.message,\n      timestamp: new Date().toISOString()\n    };\n    \n    results.push(result);\n    \n    console.error(&#x27;Health Check Failed:&#x27;, result);\n  }\n}\n\n// Summary report\nconst healthyEndpoints = results.filter(r =&gt; r.healthy).length;\nconst totalEndpoints = results.length;\nconst averageResponseTime = results.reduce((sum, r) =&gt; sum + (r.responseTime || 0), 0) / totalEndpoints;\n\nconsole.log(&#x27;Health Summary:&#x27;, {\n  healthyEndpoints: `${healthyEndpoints}/${totalEndpoints}`,\n  healthPercentage: `${((healthyEndpoints / totalEndpoints) * 100).toFixed(1)}%`,\n  averageResponseTime: `${averageResponseTime.toFixed(0)}ms`,\n  timestamp: new Date().toISOString()\n});\n\n// At least some endpoints should be healthy\nexpect(healthyEndpoints).to.be.greaterThan(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff1ff839-1150-4a84-a486-cb9761b37306&quot;,&quot;parentUUID&quot;:&quot;e032f922-e882-4293-b5f7-604f9d8d5470&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ff1ff839-1150-4a84-a486-cb9761b37306&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;564ad5dd-d21a-4543-94ea-e649e6613fda&quot;,&quot;title&quot;:&quot;Vehicles API&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\vehicles.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\vehicles.spec.cjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Vehicles API\&quot;&quot;,&quot;fullTitle&quot;:&quot;Vehicles API \&quot;before each\&quot; hook in \&quot;Vehicles API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:310,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await delay(300);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;791f70c7-f2ee-4b89-8c02-0f46f9868b93&quot;,&quot;parentUUID&quot;:&quot;564ad5dd-d21a-4543-94ea-e649e6613fda&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9c3530dc-350f-4e09-926e-3e4ccf6b745b&quot;,&quot;title&quot;:&quot;GET /vehicles&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\vehicles.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\vehicles.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return list of vehicles&quot;,&quot;fullTitle&quot;:&quot;Vehicles API GET /vehicles should return list of vehicles&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Add delay to avoid rate limiting\n     const response = await client.get(&#x27;/vehicles&#x27;);\n     expect(response.status).to.equal(200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18ebf9a4-37df-4689-84d7-ad837c55b199&quot;,&quot;parentUUID&quot;:&quot;9c3530dc-350f-4e09-926e-3e4ccf6b745b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return correct headers&quot;,&quot;fullTitle&quot;:&quot;Vehicles API GET /vehicles should return correct headers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await client.get(&#x27;/vehicles&#x27;);\nexpect(response.headers[&#x27;content-type&#x27;]).to.include(&#x27;application/json&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3da60983-e67a-46c4-89ff-96909c0b6a75&quot;,&quot;parentUUID&quot;:&quot;9c3530dc-350f-4e09-926e-3e4ccf6b745b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return valid vehicles list schema&quot;,&quot;fullTitle&quot;:&quot;Vehicles API GET /vehicles should return valid vehicles list schema&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:85,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await client.get(&#x27;/vehicles&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.data).to.have.property(&#x27;vehicles&#x27;);\nexpect(validateSchema(vehiclesListSchema, response.data.vehicles)).to.be.true;&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected false to be true&quot;,&quot;estack&quot;:&quot;AssertionError: expected false to be true\n    at Context.&lt;anonymous&gt; (tests\\api\\vehicles.spec.cjs:29:79)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;,&quot;diff&quot;:&quot;- false\n+ true\n&quot;},&quot;uuid&quot;:&quot;e9379beb-2aef-4520-9e9c-ebbbb51f9683&quot;,&quot;parentUUID&quot;:&quot;9c3530dc-350f-4e09-926e-3e4ccf6b745b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should filter by vehicle type&quot;,&quot;fullTitle&quot;:&quot;Vehicles API GET /vehicles should filter by vehicle type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await client.get(&#x27;/vehicles?type=car&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.data).to.have.property(&#x27;vehicles&#x27;);\nexpect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n// All returned vehicles should be cars\nresponse.data.vehicles.forEach(vehicle =&gt; {\n  expect(vehicle.type).to.equal(&#x27;car&#x27;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;956560a7-8612-4c08-9a53-8e86ea96bcd8&quot;,&quot;parentUUID&quot;:&quot;9c3530dc-350f-4e09-926e-3e4ccf6b745b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should filter by availability&quot;,&quot;fullTitle&quot;:&quot;Vehicles API GET /vehicles should filter by availability&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await client.get(&#x27;/vehicles?available=true&#x27;);\nexpect(response.status).to.equal(200);\nexpect(response.data).to.have.property(&#x27;vehicles&#x27;);\nexpect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n// All returned vehicles should be available\nresponse.data.vehicles.forEach(vehicle =&gt; {\n  expect(vehicle.available).to.be.true;\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ee5d0ab-8dd0-4add-9702-c6222c9b2eb4&quot;,&quot;parentUUID&quot;:&quot;9c3530dc-350f-4e09-926e-3e4ccf6b745b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 400 for invalid vehicle type&quot;,&quot;fullTitle&quot;:&quot;Vehicles API GET /vehicles should return 400 for invalid vehicle type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await client.get(&#x27;/vehicles?type=invalid&#x27;);\n  expect.fail(&#x27;Should have thrown an error&#x27;);\n} catch (error) {\n  expect(error.response).to.exist;\n  expect(error.response.status).to.equal(400);\n}&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected undefined to exist&quot;,&quot;estack&quot;:&quot;AssertionError: expected undefined to exist\n    at Context.&lt;anonymous&gt; (tests\\api\\vehicles.spec.cjs:59:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;f09d21a5-3db4-4670-a806-f870d04d4d96&quot;,&quot;parentUUID&quot;:&quot;9c3530dc-350f-4e09-926e-3e4ccf6b745b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;18ebf9a4-37df-4689-84d7-ad837c55b199&quot;,&quot;3da60983-e67a-46c4-89ff-96909c0b6a75&quot;,&quot;956560a7-8612-4c08-9a53-8e86ea96bcd8&quot;,&quot;6ee5d0ab-8dd0-4add-9702-c6222c9b2eb4&quot;],&quot;failures&quot;:[&quot;e9379beb-2aef-4520-9e9c-ebbbb51f9683&quot;,&quot;f09d21a5-3db4-4670-a806-f870d04d4d96&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:127,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5f831678-4b45-4e33-9be3-fd9cb4df8bd5&quot;,&quot;title&quot;:&quot;GET /vehicles/:id&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\vehicles.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\vehicles.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return single vehicle details&quot;,&quot;fullTitle&quot;:&quot;Vehicles API GET /vehicles/:id should return single vehicle details&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Add delay to avoid rate limiting\n     const response = await client.get(&#x27;/vehicles/bike-1&#x27;);\n     expect(response.status).to.equal(200);\n     expect(response.data).to.have.property(&#x27;vehicle&#x27;);\n     expect(response.data.vehicle).to.have.property(&#x27;id&#x27;);\n     expect(response.data.vehicle.id).to.equal(&#x27;bike-1&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7cf7b890-a772-4242-b43e-aabdfa2d654a&quot;,&quot;parentUUID&quot;:&quot;5f831678-4b45-4e33-9be3-fd9cb4df8bd5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 404 for non-existent vehicle&quot;,&quot;fullTitle&quot;:&quot;Vehicles API GET /vehicles/:id should return 404 for non-existent vehicle&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;try {\n  await client.get(&#x27;/vehicles/non-existent&#x27;);\n  expect.fail(&#x27;Should have thrown an error&#x27;);\n} catch (error) {\n  expect(error.response).to.exist;\n  expect(error.response.status).to.equal(404);\n  expect(error.response.data).to.have.property(&#x27;error&#x27;);\n}&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected undefined to exist&quot;,&quot;estack&quot;:&quot;AssertionError: expected undefined to exist\n    at Context.&lt;anonymous&gt; (tests\\api\\vehicles.spec.cjs:79:34)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;45a0f474-ba46-41e9-9b21-251dfa0f3541&quot;,&quot;parentUUID&quot;:&quot;5f831678-4b45-4e33-9be3-fd9cb4df8bd5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7cf7b890-a772-4242-b43e-aabdfa2d654a&quot;],&quot;failures&quot;:[&quot;45a0f474-ba46-41e9-9b21-251dfa0f3541&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;73d57cf9-0147-4194-9afd-0c4120012b73&quot;,&quot;title&quot;:&quot;XML Response Validation&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\xml.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\xml.spec.cjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;XML Response Validation\&quot;&quot;,&quot;fullTitle&quot;:&quot;XML Response Validation \&quot;before each\&quot; hook in \&quot;XML Response Validation\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:312,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await delay(300);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57b0a3c8-221f-4fb0-b5c8-dcf1e1796f47&quot;,&quot;parentUUID&quot;:&quot;73d57cf9-0147-4194-9afd-0c4120012b73&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a4910a94-afdf-44bb-8f9f-dc5dfe02d37c&quot;,&quot;title&quot;:&quot;Vehicles Endpoint&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\xml.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\xml.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should handle XML or JSON response from /vehicles endpoint&quot;,&quot;fullTitle&quot;:&quot;XML Response Validation Vehicles Endpoint should handle XML or JSON response from /vehicles endpoint&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await client.get(&#x27;/vehicles&#x27;);\n\nexpect(response.status).to.equal(200);\n\nconst contentType = response.headers[&#x27;content-type&#x27;] || &#x27;&#x27;;\n\nif (contentType.includes(&#x27;application/xml&#x27;) || contentType.includes(&#x27;text/xml&#x27;)) {\n  // Handle XML response\n  expect(response.data).to.be.a(&#x27;string&#x27;);\n  \n  // Parse XML and validate structure\n  const parsedXml = parseXml(response.data);\n  expect(parsedXml).to.be.an(&#x27;object&#x27;);\n  \n  // Expect vehicles-related information\n  // This depends on your actual XML structure\n  console.log(&#x27;Parsed XML:&#x27;, JSON.stringify(parsedXml, null, 2));\n  \n} else if (contentType.includes(&#x27;application/json&#x27;)) {\n  // Handle JSON response\n  expect(response.data).to.be.an(&#x27;object&#x27;);\n  expect(response.data).to.have.property(&#x27;vehicles&#x27;);\n  expect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n  \n} else {\n  // Handle plain text or other formats\n  expect(response.data).to.exist;\n  console.log(&#x27;Vehicles response:&#x27;, response.data);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4be734ce-ce9b-4da9-a8e4-2ad56ab86b13&quot;,&quot;parentUUID&quot;:&quot;a4910a94-afdf-44bb-8f9f-dc5dfe02d37c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4be734ce-ce9b-4da9-a8e4-2ad56ab86b13&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;daad3553-6056-495f-b658-b8c264bbff98&quot;,&quot;title&quot;:&quot;XML Parsing Examples&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\xml.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\xml.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should parse simple XML correctly&quot;,&quot;fullTitle&quot;:&quot;XML Response Validation XML Parsing Examples should parse simple XML correctly&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const xmlString = `\n  &lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n  &lt;response&gt;\n    &lt;status&gt;success&lt;/status&gt;\n    &lt;message&gt;API is healthy&lt;/message&gt;\n    &lt;timestamp&gt;2024-01-15T10:30:00Z&lt;/timestamp&gt;\n  &lt;/response&gt;\n`;\n\nconst parsed = parseXml(xmlString);\n\nexpect(parsed).to.have.property(&#x27;response&#x27;);\nexpect(parsed.response).to.have.property(&#x27;status&#x27;, &#x27;success&#x27;);\nexpect(parsed.response).to.have.property(&#x27;message&#x27;, &#x27;API is healthy&#x27;);\nexpect(parsed.response).to.have.property(&#x27;timestamp&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd2977e3-9ab5-40a2-8f50-44ffaf518bee&quot;,&quot;parentUUID&quot;:&quot;daad3553-6056-495f-b658-b8c264bbff98&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should parse XML with attributes&quot;,&quot;fullTitle&quot;:&quot;XML Response Validation XML Parsing Examples should parse XML with attributes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const xmlString = `\n  &lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?&gt;\n  &lt;vehicles count=\&quot;3\&quot;&gt;\n    &lt;vehicle id=\&quot;1\&quot; type=\&quot;car\&quot;&gt;\n      &lt;name&gt;Toyota Camry&lt;/name&gt;\n      &lt;available&gt;true&lt;/available&gt;\n    &lt;/vehicle&gt;\n    &lt;vehicle id=\&quot;2\&quot; type=\&quot;bike\&quot;&gt;\n      &lt;name&gt;Honda CBR&lt;/name&gt;\n      &lt;available&gt;false&lt;/available&gt;\n    &lt;/vehicle&gt;\n  &lt;/vehicles&gt;\n`;\n\nconst parsed = parseXml(xmlString);\n\nexpect(parsed).to.have.property(&#x27;vehicles&#x27;);\nexpect(parsed.vehicles).to.have.property(&#x27;@_count&#x27;, &#x27;3&#x27;);\nexpect(parsed.vehicles).to.have.property(&#x27;vehicle&#x27;);\nexpect(parsed.vehicles.vehicle).to.be.an(&#x27;array&#x27;);\nexpect(parsed.vehicles.vehicle[0]).to.have.property(&#x27;@_id&#x27;, &#x27;1&#x27;);\nexpect(parsed.vehicles.vehicle[0]).to.have.property(&#x27;@_type&#x27;, &#x27;car&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;42a4f5e7-8a8f-464f-a41d-172d59a97d20&quot;,&quot;parentUUID&quot;:&quot;daad3553-6056-495f-b658-b8c264bbff98&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle XML parsing errors gracefully&quot;,&quot;fullTitle&quot;:&quot;XML Response Validation XML Parsing Examples should handle XML parsing errors gracefully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const invalidXml = &#x27;&lt;invalid&gt;&lt;unclosed&gt;&#x27;;\n\nexpect(() =&gt; {\n  parseXml(invalidXml);\n}).to.throw(&#x27;Failed to parse XML&#x27;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;AssertionError: expected [Function] to throw an error&quot;,&quot;estack&quot;:&quot;AssertionError: expected [Function] to throw an error\n    at Context.&lt;anonymous&gt; (tests\\api\\xml.spec.cjs:97:18)\n    at process.processImmediate (node:internal/timers:478:21)&quot;},&quot;uuid&quot;:&quot;1e79bca6-7930-4123-9249-11a24e47a646&quot;,&quot;parentUUID&quot;:&quot;daad3553-6056-495f-b658-b8c264bbff98&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fd2977e3-9ab5-40a2-8f50-44ffaf518bee&quot;,&quot;42a4f5e7-8a8f-464f-a41d-172d59a97d20&quot;],&quot;failures&quot;:[&quot;1e79bca6-7930-4123-9249-11a24e47a646&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;31df7301-7b14-4064-8cc4-e8ab3521acdf&quot;,&quot;title&quot;:&quot;API Endpoints with XML Support&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\tests\\api\\xml.spec.cjs&quot;,&quot;file&quot;:&quot;\\tests\\api\\xml.spec.cjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should request XML format if supported&quot;,&quot;fullTitle&quot;:&quot;XML Response Validation API Endpoints with XML Support should request XML format if supported&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = await client.get(&#x27;/vehicles&#x27;, {\n  headers: {\n    &#x27;Accept&#x27;: &#x27;application/xml&#x27;\n  }\n});\n\n// The API might not support XML, so we handle both cases\nif (response.status === 200) {\n  const contentType = response.headers[&#x27;content-type&#x27;] || &#x27;&#x27;;\n  \n  if (contentType.includes(&#x27;xml&#x27;)) {\n    // XML response received\n    const parsed = parseXml(response.data);\n    expect(parsed).to.be.an(&#x27;object&#x27;);\n    console.log(&#x27;XML vehicles response structure:&#x27;, Object.keys(parsed));\n  } else {\n    // JSON response (API doesn&#x27;t support XML)\n    expect(response.data).to.have.property(&#x27;vehicles&#x27;);\n    expect(response.data.vehicles).to.be.an(&#x27;array&#x27;);\n    console.log(&#x27;API returned JSON instead of XML (XML not supported)&#x27;);\n  }\n} else {\n  console.log(&#x27;API endpoint not available or doesn\\&#x27;t support XML&#x27;);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;045f0cce-026e-4019-9f59-5f73ab13e9c9&quot;,&quot;parentUUID&quot;:&quot;31df7301-7b14-4064-8cc4-e8ab3521acdf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;045f0cce-026e-4019-9f59-5f73ab13e9c9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.8.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;api-test-report&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;test-results&quot;,&quot;reportFilename&quot;:&quot;api-test-report&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;api-test-report&quot;,&quot;reportDir&quot;:&quot;test-results&quot;,&quot;reportTitle&quot;:&quot;project&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;test-results\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\test-results\\api-test-report.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\think\\OneDrive\\Documents\\TaxiBooking\\TaxiBooking\\project\\test-results\\api-test-report.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>